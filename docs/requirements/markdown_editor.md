# 要件定義書: ブラウザベース Markdown エディタ

## 1. 概要
ブラウザ上で動作する、シンプルかつ高機能なMarkdownエディタ。
NotionのようなWYSIWYG（見たまま編集）体験を提供し、Mermaid図の作成・挿入もサポートする。
サーバーサイドの保存機能は持たず、ローカル完結型でプライバシーと軽快な動作を重視する。

## 2. ゴール
- ユーザーがブラウザだけで手軽に美しいドキュメントを作成できること。
- ネットワーク環境に依存せず、オフラインでも動作すること（PWA）。
- エンジニアやテクニカルライターが必要とする図表（Mermaid）やコード記述を強力にサポートすること。

## 3. ユーザーストーリー
- **ユーザー**は、**ブラウザを開いてすぐに書き始めたい**。そのため、**ログイン不要でローカルに一時保存される機能**がほしい。
- **エンジニア**は、**コードブロックを綺麗に表示したい**。そのため、**シンタックスハイライト**がほしい。
- **設計者**は、**フローチャートを文書内に含めたい**。そのため、**Mermaid記法のサポートと、GUIでの作図機能**がほしい。
- **モバイルユーザー**は、**アプリのように使いたい**。そのため、**PWA対応**がほしい。
- **長時間作業するユーザー**は、**目に優しい画面がいい**。そのため、**ダークモード**がほしい。

## 4. 機能要件

### 4.1. エディタ機能
- [ ] **Notionライクな編集体験**: Markdown記法を入力すると即座にプレビュースタイルに変換される（ハイブリッドエディタ）。
- [ ] **シンタックスハイライト**: 主要なプログラミング言語のコードブロックを色分け表示する。
- [ ] **Mermaid対応**: Mermaid記法をレンダリングして図を表示する。
- [ ] **図形挿入モード**: GUI（draw.io風）で図を作成し、それをMermaid記法としてドキュメントに挿入する機能。

### 4.2. ファイル管理・保存
- [ ] **ローカルストレージ保存**: 入力内容は自動的にブラウザのローカルストレージに保存される（DB不要）。
- [ ] **インポート**: ローカルの `.md` ファイルを読み込んで編集できる。
- [ ] **エクスポート**: 編集内容を `.md` ファイルとしてダウンロードできる。

### 4.3. アプリケーション基盤
- [ ] **PWA (Progressive Web App)**: インストール可能で、オフラインでも動作する。
- [ ] **テーマ切り替え**: ライトモードとダークモードを切り替えられる（OS設定同期または手動）。

## 5. 非機能要件
- **パフォーマンス**: 入力遅延を感じさせない軽快な動作。
- **プライバシー**: データはすべてクライアントサイド（ユーザーのデバイス）に留まり、外部サーバーへ送信しない。
- **互換性**: モダンブラウザ（Chrome, Edge, Safari, Firefox）の最新版で動作すること。

## 6. スコープ外
- サーバーサイドでのデータ永続化（クラウド保存）。
- リアルタイム共同編集機能。
- PDFやHTMLへのエクスポート（今回はMarkdownのみ）。
